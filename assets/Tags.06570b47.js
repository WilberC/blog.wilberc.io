import{C as B}from"./Common.8f6433dd.js";import{P as $}from"./PageHeader.5d3c4e5f.js";import{d as T,u as k,G as w,Y as A,a0 as C,S as L,h as f,o as r,c as u,C as v,F as m,_ as y,s as N,g as _,p as D,f as R,t as g,r as S,a as h,e as d,w as x,q as V,A as Y,b}from"./app.2c0acd1b.js";import{r as z}from"./resolveTime.bbe121e0.js";const F=l=>{const s={},t=[];for(const e of l){if(!e.info.date)continue;const o=z(e.info.date,"year");s[o]?s[o].push(e):s[o]=[e]}for(const e in s)t.unshift({year:e,data:s[e]});return t},M=(l,s)=>s===""?l:l.filter(t=>t.info.tags?t.info.tags.includes(s):!1),q=["onClick"],E={key:0},G={key:1},H=T({__name:"TagList",props:{currentTag:{type:String,default:""}},setup(l){const s=k(),t=w(),e=A(),{tagsWithColor:o}=C(),{posts:i}=L(),c=f(()=>[{name:s.value.showAllTagsText,path:e.value.path,tagColor:null,pages:[]},...o.value]);return(p,n)=>(r(!0),u(m,null,v(c.value,(a,P)=>(r(),u("span",{key:P,class:N(["article-tag",[a.name===l.currentTag&&"active",a.path===_(e).path&&"tag-all"]]),style:D([a.tagColor?{backgroundColor:a.tagColor}:{}]),onClick:I=>_(t).push(a.path)},[R(g(a.name)+" ",1),a.path==_(e).path?(r(),u("sup",E,g(_(i).length),1)):(r(),u("sup",G,g(a.pages.length),1))],14,q))),128))}});var W=y(H,[["__file","TagList.vue"]]);const j={class:"year"},J={class:"title"},K={key:0,class:"subtitle"},O=h("hr",null,null,-1),Q=T({__name:"TagPostList",props:{data:{type:Array,default:()=>[]}},setup(l){return(s,t)=>{const e=S("RouterLink");return r(!0),u(m,null,v(l.data,(o,i)=>(r(),u("section",{key:i},[h("span",j,g(o.year),1),(r(!0),u(m,null,v(o.data,(c,p)=>(r(),u("div",{key:p,class:"item"},[d(e,{to:c.path},{default:x(()=>[h("p",J,g(c.info.title),1),c.info.subtitle?(r(),u("p",K,g(c.info.subtitle),1)):V("",!0)]),_:2},1032,["to"]),O]))),128))]))),128)}}});var U=y(Q,[["__file","TagPostList.vue"]]);const X={class:"tags-wrapper"},Z=T({__name:"Tags",setup(l){const s=Y(),t=k(),{posts:e}=L(),{tags:o}=C(),i=f(()=>{const n=o.value.find(a=>a.path===s.path);return n?n.name:t.value.showAllTagsText}),c=f(()=>{const n=i.value===t.value.showAllTagsText?"":i.value;return F(M(e.value,n))}),p=f(()=>{var a;const n=t.value.pages&&t.value.pages.tags?t.value.pages.tags:{};return n.title===void 0&&(n.title=(a=t.value.pageText)==null?void 0:a.tags),n});return(n,a)=>(r(),b(B,null,{page:x(()=>[d($,{"page-info":p.value},null,8,["page-info"]),h("div",X,[d(W,{"current-tag":i.value},null,8,["current-tag"]),d(U,{data:c.value},null,8,["data"])])]),_:1}))}});var ot=y(Z,[["__file","Tags.vue"]]);export{ot as default};
