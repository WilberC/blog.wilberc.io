import{C as N}from"./Common.776731ff.js";import{P as T}from"./Pager.2c78faa8.js";import{d as b,r as S,o as r,c as h,a as t,g as c,R as y,t as v,e as m,w as B,q as f,_ as x,G as V,u as M,h as k,S as F,F as q,C as A,b as H,z as P,m as E,p as $}from"./app.e8938817.js";import{f as j}from"./resolveTime.bbe121e0.js";import{S as z}from"./SNS.00c67898.js";const G={class:"post-item"},O=["src"],U={class:"else"},J={class:"post-item__date"},K={key:0},Q=["innerHTML"],W=b({__name:"PostListItem",props:{item:{type:Object,required:!0}},setup(n){const l=e=>e.replace(/<RouterLink to/g,"<a href").replace(/<\/RouterLink>/g,"</a>");return(e,a)=>{const _=S("RouterLink");return r(),h("div",G,[t("div",{class:"post-item__img",onClick:a[0]||(a[0]=g=>e.$router.push(n.item.path))},[t("img",{src:c(y)(n.item.info.headerImage)},null,8,O)]),t("div",U,[t("p",J,v(n.item.info.date?c(j)(n.item.info.date):""),1),m(_,{to:n.item.path,class:"post-item__title"},{default:B(()=>[t("h2",null,v(n.item.info.title),1),n.item.info.subtitle?(r(),h("h3",K,v(n.item.info.subtitle),1)):f("",!0)]),_:1},8,["to"]),t("div",{class:"post-item__content",innerHTML:l(n.item.info.excerpt||"")},null,8,Q)])])}}});var X=x(W,[["__file","PostListItem.vue"]]);const Y={class:"postlist-wrapper"},Z=b({__name:"PostList",setup(n){const l=V(),e=M(),a=k(()=>{const s=decodeURI(l.currentRoute.value.path.replace(/\/page/g,"").replace(/\//g,""));return s===""?1:Number(s)}),{slicedPosts:_,postListPager:g}=F(a),u=k(()=>{const s=g.value,p=s&&s.next?{text:e.value.homeNext,link:s.next}:null,d=s&&s.prev?{text:e.value.homePrev,link:s.prev}:null;return{next:p,prev:d}});return(s,p)=>(r(),h("div",Y,[(r(!0),h(q,null,A(c(_),d=>(r(),H(X,{key:d.path,item:d},null,8,["item"]))),128)),u.value.next||u.value.prev?(r(),H(T,{key:0,data:u.value},null,8,["data"])):f("",!0)]))}});var ee=x(Z,[["__file","PostList.vue"]]);const te={class:"home-blog"},oe=["src"],se={key:0,class:"hero-bubble"},ne={class:"hero-bubble__body"},ae=t("div",{class:"hero-bubble__tile"},null,-1),re={class:"hero-info"},le={class:"description"},ie=b({__name:"Home",setup(n){const l=M(),e=l.value.homeHeaderImages,a=P(-1),_=P(1),g=()=>{window.scrollTo({top:document.querySelector(".hero").clientHeight,behavior:"smooth"})},u=l.value.hitokoto,s=P("\u6B63\u5728\u52A0\u8F7D\u4E00\u8A00...");let p=!1;const d=()=>{if(!u||p)return;p=!0;let i=u;i=typeof i=="string"?i:"https://v1.hitokoto.cn",fetch(i).then(o=>o.json()).then(o=>s.value=o.hitokoto).catch(o=>{console.log(`Get ${i} error: `,o)})};E(()=>{e&&e.length>0&&(a.value=Math.floor(Math.random()*e.length))});const C=i=>{if(!(e&&e.length>0))return;const o=e.length;a.value=(a.value+i+o)%o},D=k(()=>e&&e.length>0&&a.value!==-1?`url(${y(e[a.value].path)})`:"none"),w=k(()=>e&&e.length>0&&a.value!==-1?e[a.value].mask:null),I=l.value.personalInfo;return(i,o)=>{const L=S("VIcon");return r(),h("main",te,[t("div",{class:"hero",style:$({"background-image":D.value})},[w.value?(r(),h("div",{key:0,class:"hero-mask",style:$({background:w.value})},null,4)):f("",!0),t("div",{class:"hero-content",style:$({opacity:_.value})},[t("img",{class:"hero-avatar hide-on-mobile",src:c(y)(c(I).avatar),alt:"hero",onMouseover:d},null,40,oe),c(u)?(r(),h("div",se,[t("div",ne,[t("p",null,v(s.value),1)]),ae])):f("",!0),t("div",re,[t("h1",null,v(c(I).name),1),t("p",le,v(c(I).description),1)]),m(z,{class:"hide-on-mobile",large:""}),t("button",{class:"hero-img-prev hide-on-mobile",onClick:o[0]||(o[0]=R=>C(-1))},[m(L,{name:"fa-chevron-left"})]),t("button",{class:"hero-img-next hide-on-mobile",onClick:o[1]||(o[1]=R=>C(1))},[m(L,{name:"fa-chevron-right"})]),t("span",{class:"hero-arrow-down hide-on-mobile",onClick:o[2]||(o[2]=R=>g())},[m(L,{name:"fa-chevron-down",animation:"float"})])],4)],4),m(ee)])}}});var ce=x(ie,[["__file","Home.vue"]]);const ue=b({__name:"HomePage",setup(n){return(l,e)=>(r(),H(N,null,{page:B(()=>[m(ce)]),_:1}))}});var pe=x(ue,[["__file","HomePage.vue"]]);export{pe as default};
